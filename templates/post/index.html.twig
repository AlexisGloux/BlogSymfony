{% extends 'base.html.twig' %}

{% block body %}

    <div class="container">

        <div class="jumbotron text-center">
            <h3>Tous les articles</h3>
        </div>

        <div class="col-md-6 m-auto">
            {% for message in app.flashes('success') %}
                <div class="alert alert-success text-center">
                    {{ message }}
                </div>
            {% endfor %}
            {% for message in app.flashes('error') %}
                <div class="alert alert-danger">
                    <h6><b>Une erreur est survenue</b></h6>
                    {{ message }}
                </div>
            {% endfor %}
        </div>

        <div class="col-lg-3 ml-auto text-right">
            <a class="btn btn-sm btn-primary pull-right" href="{{ path('post_new') }}">Ajouter un article</a>
        </div>


        <div class="col-12">
            {% for post in posts %}
                <div class="card text-center col-6 m-auto">
                    <div class="card-body">
                        <h5 class="card-title">{{ post.title }}</h5>
                        <p class="card-text">{{ post.body }}</p>
                        <p class="">{{ post.createdAt | date("d/m/Y") }}</p>
                        <a class="btn btn-sm btn-info" href="{{ path('post_show', {'id': post.id}) }}">DÃ©tails</a>
                        <a class="btn btn-sm btn-success" href="{{ path('post_edit', {'id': post.id}) }}">Editer</a>
                        <div>{{ include('post/_delete_form.html.twig') }}</div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}
